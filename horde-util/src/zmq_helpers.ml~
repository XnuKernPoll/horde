module ZSock = ZMQ.Socket
module Lwt_ZSock = Lwt_zmq.Socket
module CTX = ZMQ.Context

let tcp_addr ~host:(host="*") port () =
  Fmt.strf "tcp://%s:%d" host port 

let ipc_addr ~host:(host="*") port () =
  Fmt.strf "ipc://%s:%d" host port
           
let inproc_addr ~host:(host="*") port () =
  Fmt.strf "inproc://%s:%d" host port
           
let make_pub addr =
  let ctx = CTX.create () in
  let sock = ZSock.create ctx ZSock.pub in
  ZSock.bind pub 
